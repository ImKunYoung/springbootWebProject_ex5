<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>list</title>
</head>

<!--replace-->
<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">

	<!--basic content 부분에 들어가는 내용-->
	<th:block th:fragment="content">

		<h1 class="mt-4">Board List Page

			<!--게시물 등록-->
			<span>

				<a th:href="@{/board/register}">

					<button type="button" class="btn btn-outline-primary">
						REGISTER
					</button>

				</a>

			</span>

		</h1>


		<!--게시물 리스트-->
		<table class="table table-striped">

			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Title</th>
					<th scope="col">Writer</th>
					<th scope="col">Regdate</th>
				</tr>
			</thead>


			<tbody>

				<tr th:each="dto:${result.dtoList}">

					<th scope="row">
						<a th:href="@{board/read(bno = ${dto.bno}, page=${result.page}, type=${pageRequestDTO.type}, keyword=${pageRequestDTO.keyword})}">
							[[${dto.bno}]]
						</a>
					</th>

					<td>
						[[${dto.title}]]
						---------
						<b th:text="${dto.replyCount}"></b>
					</td>

					<td>
						[[${dto.writerName}]]
						<small>[[${dto.writerEmail}]]</small>
					</td>

					<td>[[${#temporals.format(dto.regDate, 'yyyy/MM/dd')}]]</td>

				</tr>

			</tbody>


		</table>


		<!--페이지 처리 링크-->
		<ul class="pagination h-100 justify-content-center align-items-center">

			<!--이전 페이지-->
			<li class="page-item" th:if="${result.prev}">
				<a class="page-link" th:href="@{/board/list(page=${result.start -1}, type=${pageRequestDTO.type}, keyword = ${pageRequestDTO.keyword})}" tabindex="-1">
					Previous
				</a>
			</li>

			<!--페이지 번호-->
			<li th:class="'page-item' + ${result.page == page?'active':''}" th:each="page: ${result.pageList}">
				<a class="page-link" th:href="@{/board/list(page = ${page}, type=${pageRequestDTO.type}, keyword = ${pageRequestDTO.keyword})}">
					[[${page}]]
				</a>
			</li>

			<!--다음 페이지-->
			<li class="page-item" th:if="${result.next}">
				<a class="page-link" th:href="@{/board/list(page=${result.end +1}, type=${pageRequestDTO.type}, keyword = ${pageRequestDTO.keyword})}">
					Next
				</a>
			</li>

		</ul>

	</th:block>


</th:block>


</html>